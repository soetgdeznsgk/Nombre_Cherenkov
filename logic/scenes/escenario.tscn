[gd_scene load_steps=9 format=3 uid="uid://koqv2tici8g"]

[ext_resource type="PackedScene" uid="uid://bnl1k0w4e64he" path="res://logic/scenes/jugador.tscn" id="1_2ygyh"]
[ext_resource type="ArrayMesh" uid="uid://ylflb3vcbrgg" path="res://GodotActionRPG-Assets/Models/Environment/naturePack_001.obj" id="3_hr8na"]
[ext_resource type="Script" path="res://logic/ambient_scripts/floor.gd" id="4_wwktb"]
[ext_resource type="PackedScene" uid="uid://di6fatgsdf124" path="res://logic/scenes/bucket.tscn" id="5_3654a"]
[ext_resource type="Script" path="res://logic/ambient_scripts/pool_script.gd" id="5_y4rwr"]
[ext_resource type="PackedScene" uid="uid://cu30dahipapwi" path="res://logic/UI/control.tscn" id="6_al0kl"]

[sub_resource type="NavigationMesh" id="NavigationMesh_inggj"]
vertices = PackedVector3Array(4.86374e-05, 14.6883, -21.1558, 8.00005, 14.6883, -21.1558, 8.25005, 14.6883, -21.6558, 10.25, 14.6883, -30.1558, 4.86374e-05, 14.6883, -30.1558, 10.25, 14.6883, -21.6558, 29.25, 14.6883, -21.6558, 29.5, 14.6883, -19.4058, 31.5, 14.6883, -19.4058, 31.5, 14.6883, -30.1558, 1.25005, -6.56172, -28.9058, 1.25005, -6.56172, -1.4058, 28.5, -6.56172, -1.4058, 28.5, -6.56172, -28.9058, 28, 0.43828, -10.9058, 28.5, 0.43828, -1.4058, 28.5, 0.43828, -28.9058, 1.25005, 0.43828, -1.4058, 17.5, 0.43828, -1.4058, 17.75, 0.43828, -10.9058, 1.25005, 0.43828, -28.9058, 9.50005, 14.6883, 0.0942001, 9.75005, 14.6883, -4.1558, 8.00005, 14.6883, -4.4058, 4.86374e-05, 14.6883, 0.0942001, 29.5, 14.6883, -6.4058, 31.5, 14.6883, -6.4058, 29.25, 14.6883, -4.1558, 31.5, 14.6883, 0.0942001)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 4), PackedInt32Array(2, 4, 3), PackedInt32Array(3, 5, 2), PackedInt32Array(7, 6, 8), PackedInt32Array(8, 6, 9), PackedInt32Array(5, 3, 6), PackedInt32Array(6, 3, 9), PackedInt32Array(13, 12, 10), PackedInt32Array(10, 12, 11), PackedInt32Array(16, 15, 14), PackedInt32Array(19, 18, 17), PackedInt32Array(16, 14, 19), PackedInt32Array(17, 20, 19), PackedInt32Array(19, 20, 16), PackedInt32Array(22, 21, 23), PackedInt32Array(23, 21, 24), PackedInt32Array(1, 23, 0), PackedInt32Array(0, 23, 24), PackedInt32Array(7, 8, 25), PackedInt32Array(25, 8, 26), PackedInt32Array(25, 26, 27), PackedInt32Array(27, 26, 28), PackedInt32Array(22, 27, 21), PackedInt32Array(21, 27, 28)]

[sub_resource type="BoxShape3D" id="BoxShape3D_t688q"]
size = Vector3(1, 0.202484, 1)

[node name="Escenario" type="Node3D"]

[node name="luz" type="Node" parent="."]

[node name="rojo" type="DirectionalLight3D" parent="luz"]
transform = Transform3D(-0.99812, 0.0330444, 0.0516122, 0.0199388, -0.62126, 0.783351, 0.05795, 0.782908, 0.619433, 9.46828, 25.9757, 5.91161)
light_color = Color(1, 0, 0, 1)
shadow_enabled = true
shadow_bias = 0.0

[node name="azul" type="DirectionalLight3D" parent="luz"]
transform = Transform3D(-0.0127973, -0.994547, 0.1035, -0.587995, 0.091206, 0.803706, -0.808764, -0.0505724, -0.585956, 17.9418, 29.1136, -52.9948)
light_color = Color(0, 0, 1, 1)
shadow_enabled = true
shadow_bias = 0.0

[node name="Jugador" parent="." instance=ExtResource("1_2ygyh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.19956, 1.46529, -11.5975)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_inggj")

[node name="Geometría" type="Node" parent="NavigationRegion3D"]

[node name="Piso" type="CSGMesh3D" parent="NavigationRegion3D/Geometría" groups=["Ambiente"]]
transform = Transform3D(10, 0, 0, 0, 1, 0, 0, 0, 10, 0, -0.28, 0)
rotation_edit_mode = 2
use_collision = true
mesh = ExtResource("3_hr8na")
script = ExtResource("4_wwktb")

[node name="PiscinaD" type="CSGBox3D" parent="NavigationRegion3D/Geometría/Piso" node_paths=PackedStringArray("first_frog_target")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.3, -1.97949, -0.563)
operation = 2
size = Vector3(1, 4.95898, 1)
script = ExtResource("5_y4rwr")
first_frog_target = NodePath("../../../../NodosDeNavegacion/nodo2")

[node name="RanaSpawnerTimer" type="Timer" parent="NavigationRegion3D/Geometría/Piso/PiscinaD"]
wait_time = 10.0
autostart = true

[node name="Caja_Habitación" type="CSGBox3D" parent="NavigationRegion3D/Geometría"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15.6956, 2.50796, -15.0779)
use_collision = true
size = Vector3(32.3911, 23.6394, 31.1558)

[node name="DEBUG Tragaluz" type="CSGBox3D" parent="NavigationRegion3D/Geometría/Caja_Habitación"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.04147, 10.5553, 2.19084)
operation = 2
size = Vector3(20.5267, 3.36815, 16.685)

[node name="Espacio_Habitación" type="CSGBox3D" parent="NavigationRegion3D/Geometría/Caja_Habitación"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.944031, 0.93545, -0.0896606)
operation = 2
size = Vector3(28.4977, 20.6236, 28.7489)

[node name="bucket" parent="NavigationRegion3D" instance=ExtResource("5_3654a")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.0659, 0.0200004, -27.982)

[node name="NodosDeNavegacion" type="Node" parent="."]

[node name="nodo1" type="Area3D" parent="NodosDeNavegacion" groups=["NodosNavegacion"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.037, 0, -28.654)

[node name="CollisionShape3D" type="CollisionShape3D" parent="NodosDeNavegacion/nodo1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.120804, 0)
shape = SubResource("BoxShape3D_t688q")

[node name="nodo2" type="Area3D" parent="NodosDeNavegacion" groups=["NodosNavegacion"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16.1732, -4.76837e-07, -6.08532)

[node name="CollisionShape3D" type="CollisionShape3D" parent="NodosDeNavegacion/nodo2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.120804, 0)
shape = SubResource("BoxShape3D_t688q")

[node name="RanaManager" type="Node" parent="." groups=["RanaManager"]]

[node name="CanvasLayer" parent="." instance=ExtResource("6_al0kl")]

[connection signal="timeout" from="NavigationRegion3D/Geometría/Piso/PiscinaD/RanaSpawnerTimer" to="NavigationRegion3D/Geometría/Piso/PiscinaD" method="_on_rana_spawner_timer_timeout"]
